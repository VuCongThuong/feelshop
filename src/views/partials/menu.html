<header style="padding-top: 0;padding-bottom: 0;" class="w-full h-auto border-b shadow-sm relative z-10">
  <div class="flex items-center justify-center px-8 lg:py-3">
    <!-- Menu desktop -->
    <nav class="hidden md:flex flex-wrap justify-center gap-16 text-sm font-medium text-gray-700">
      <!-- Electronics -->
      <div class="group relative">
        <button class="flex items-center hover:text-[#243A8B]">
          Electronics
          <svg
            class="ml-1 w-4 h-4 transition-transform group-hover:rotate-180"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>

        <!-- Submenu tổng (hiện khi hover Electronics ở trên) -->
        <div
          class="absolute left-1/2 -translate-x-1/2 top-full hidden group-hover:flex bg-white border shadow-lg rounded-lg z-50 animate-fadeDown"
        >
          <div class="absolute top-0 left-0 w-full h-[3px] rounded-t-lg"></div>

          <!-- Cột trái -->
          <ul class="w-56 p-2 pt-4">
            <li>
              <a href="#" class="block px-3 py-2 rounded hover:bg-gray-100"
                >Fashion</a
              >
            </li>
            <li>
              <a href="#" class="block px-3 py-2 rounded hover:bg-gray-100"
                >Luxury</a
              >
            </li>

            <!-- Electronics có submenu riêng -->
            <li class="relative group/item">
              <a
                href="#"
                class="flex justify-between items-center px-3 py-2 rounded hover:bg-gray-100 text-[#243A8B] bg-indigo-50"
              >
                Electronics
                <svg
                  class="w-4 h-4 ml-1 text-gray-500"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 5l7 7-7 7"
                  />
                </svg>
              </a>

              <!-- Submenu bên phải (hiện khi hover dòng Electronics bên trái) -->
              <ul
                class="absolute hidden group-hover/item:block left-full top-0 w-48 bg-white border shadow-lg rounded-lg p-2 animate-slideIn"
              >
                <li>
                  <a href="#" class="block px-3 py-2 hover:bg-gray-100">TV</a>
                </li>
                <li>
                  <a href="#" class="block px-3 py-2 hover:bg-gray-100"
                    >Gaming</a
                  >
                </li>
                <li>
                  <a href="#" class="block px-3 py-2 hover:bg-gray-100"
                    >Audio</a
                  >
                </li>
                <li>
                  <a href="#" class="block px-3 py-2 hover:bg-gray-100"
                    >Phone</a
                  >
                </li>
              </ul>
            </li>

            <li>
              <a href="#" class="block px-3 py-2 hover:bg-gray-100">Services</a>
            </li>
            <li>
              <a href="#" class="block px-3 py-2 hover:bg-gray-100">Cars</a>
            </li>
            <li>
              <a href="#" class="block px-3 py-2 hover:bg-gray-100"
                >Property</a
              >
            </li>
          </ul>
        </div>
      </div>

      <!-- Các menu khác -->
      <a href="#" class="hover:text-[#243A8B]">Laptop</a>
      <a href="#" class="hover:text-[#243A8B]">Headphone</a>
      <a href="#" class="hover:text-[#243A8B]">Watch</a>
      <a href="#" class="hover:text-[#243A8B]">TV</a>
      <a href="#" class="hover:text-[#243A8B]">Cars</a>
      <a href="#" class="hover:text-[#243A8B]">Camera</a>
      <a href="#" class="hover:text-[#243A8B]">Keyboard</a>
    </nav>

    <!-- Mobile Menu -->
    <nav
      id="mobile-menu"
      class="md:hidden absolute top-full left-0 w-full bg-white shadow-md z-50 hidden transition-all duration-300 ease-in-out origin-top transform scale-y-95 opacity-0"
      style="max-height: 100vh; overflow-y: auto;"
    >
      <div class="p-4 space-y-2">
        <!-- Electronics with submenu -->
        <div class="border-b border-gray-100 pb-2">
          <button
            class="w-full flex items-center justify-between py-3 text-left text-gray-700 hover:text-[#243A8B] focus:outline-none"
            onclick="toggleMobileSubmenu('electronics')"
          >
            <span class="font-semibold">Electronics</span>
            <svg
              id="electronics-arrow"
              class="w-4 h-4 transition-transform duration-200"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </button>

          <div id="electronics-submenu" class="hidden pl-4 space-y-1">
            <a href="#" class="block py-2 text-sm text-gray-600 hover:text-[#243A8B]">Fashion</a>
            <a href="#" class="block py-2 text-sm text-gray-600 hover:text-[#243A8B]">Luxury</a>

            <!-- Electronics nested submenu -->
            <div class="border-l-2 border-gray-100 pl-3 ml-2">
              <button
                class="w-full flex items-center justify-between py-2 text-left text-sm 
                 rounded px-2 focus:outline-none"
                onclick="toggleMobileSubmenu('electronics-nested')"
              >
                <span>Electronics</span>
                <svg
                  id="electronics-nested-arrow"
                  class="w-3 h-3 transition-transform duration-200"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
              </button>

              <div id="electronics-nested-submenu" class="hidden pl-3 space-y-1 mt-1">
                <a href="#" class="block py-1 text-xs text-gray-500 hover:text-[#243A8B]">TV</a>
                <a href="#" class="block py-1 text-xs text-gray-500 hover:text-[#243A8B]">Gaming</a>
                <a href="#" class="block py-1 text-xs text-gray-500 hover:text-[#243A8B]">Audio</a>
                <a href="#" class="block py-1 text-xs text-gray-500 hover:text-[#243A8B]">Phone</a>
              </div>
            </div>

            <a href="#" class="block py-2 text-sm text-gray-600 hover:text-[#243A8B]">Services</a>
            <a href="#" class="block py-2 text-sm text-gray-600 hover:text-[#243A8B]">Cars</a>
            <a href="#" class="block py-2 text-sm text-gray-600 hover:text-[#243A8B]">Property</a>
          </div>
        </div>

        <!-- Other menu items -->
        <a href="#" class="block py-3 font-semibold text-gray-700 hover:text-[#243A8B] border-b border-gray-100">Laptop</a>
        <a href="#" class="block py-3 font-semibold text-gray-700 hover:text-[#243A8B] border-b border-gray-100">Headphone</a>
        <a href="#" class="block py-3 font-semibold text-gray-700 hover:text-[#243A8B] border-b border-gray-100">Watch</a>
        <a href="#" class="block py-3 font-semibold text-gray-700 hover:text-[#243A8B] border-b border-gray-100">TV</a>
        <a href="#" class="block py-3 font-semibold text-gray-700 hover:text-[#243A8B] border-b border-gray-100">Cars</a>
        <a href="#" class="block py-3 font-semibold text-gray-700 hover:text-[#243A8B] border-b border-gray-100">Camera</a>
        <a href="#" class="block py-3 font-semibold text-gray-700 hover:text-[#243A8B] border-b border-gray-100">Keyboard</a>

        <!-- Language Selection -->
        <div class="border-b border-gray-100 pb-2 mt-4">
          <button
            class="w-full flex items-center justify-between py-3 text-left text-gray-700 hover:text-[#243A8B] focus:outline-none"
            onclick="toggleMobileSubmenu('language')"
          >
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2 text-[#243A8B]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9c-5 0-9-4-9-9s4-9 9-9"/>
              </svg>
              <span class="font-medium">Language</span>
            </div>
            <svg
              id="language-arrow"
              class="w-4 h-4 transition-transform duration-200"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </button>

          <div id="language-submenu" class="hidden pl-4 space-y-2 mt-2">
            <div class="bg-indigo-50 rounded p-2">
              <button class="w-full text-left py-2 text-sm text-[#243A8B] font-medium">English</button>
            </div>
            <button class="w-full text-left py-2 text-sm text-gray-600 hover:text-[#243A8B]">Tiếng Việt</button>
          </div>
        </div>

        <!-- Contact Information -->
        <div class="mt-4 space-y-3">
          <div class="flex items-center py-2">
            <svg class="w-5 h-5 mr-3 text-[#243A8B]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            <span class="text-gray-700">cskh@gmail.com</span>
          </div>

          <div class="flex items-center py-2">
            <svg class="w-5 h-5 mr-3 text-[#243A8B]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </svg>
            <span class="text-gray-700">Hotline : 0123456789</span>
          </div>
        </div>
      </div>
    </nav>
  </div>
</header>

<!-- CSS hiệu ứng -->
<style>
  /* hiệu ứng fade nhẹ xuống */
  @keyframes fadeDown {
    from {
      opacity: 0;
      transform: translate(-50%, -10px);
    }
    to {
      opacity: 1;
      transform: translate(-50%, 0);
    }
  }
  .animate-fadeDown {
    animation: fadeDown 0.25s ease-out;
  }

  /* hiệu ứng trượt cột phải */
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateX(10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  .animate-slideIn {
    animation: slideIn 0.25s ease-out;
  }


</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const mobileMenuClose = document.getElementById('mobile-menu-close');
  const hamburgerIcon = document.getElementById('hamburger-icon');
  const closeIcon = document.getElementById('close-icon');

  // Toggle mobile menu
  function toggleMobileMenu() {
    const isOpen = !mobileMenu.classList.contains('hidden');
    if (isOpen) {
      closeMobileMenu();
    } else {
      openMobileMenu();
    }
  }

  function openMobileMenu() {
    mobileMenu.classList.remove('hidden');
    setTimeout(() => {
      mobileMenu.classList.add('scale-y-100', 'opacity-100');
      mobileMenu.classList.remove('scale-y-95', 'opacity-0');
    }, 10);
    if (hamburgerIcon && closeIcon) {
      hamburgerIcon.classList.add('hidden');
      closeIcon.classList.remove('hidden');
    }
    document.body.style.overflow = 'hidden'; // Prevent background scrolling
  }

  function closeMobileMenu() {
    mobileMenu.classList.remove('scale-y-100', 'opacity-100');
    mobileMenu.classList.add('scale-y-95', 'opacity-0');
    setTimeout(() => {
        mobileMenu.classList.add('hidden');
    }, 300); // Must match the transition duration

    if (hamburgerIcon && closeIcon) {
      hamburgerIcon.classList.remove('hidden');
      closeIcon.classList.add('hidden');
    }
    document.body.style.overflow = ''; // Restore scrolling

    // Close all submenus when closing main menu
    const allSubmenus = document.querySelectorAll('[id$="-submenu"]');
    const allArrows = document.querySelectorAll('[id$="-arrow"]');

    allSubmenus.forEach(submenu => submenu.classList.add('hidden'));
    allArrows.forEach(arrow => arrow.classList.remove('rotate-90'));
  }

  // Event listeners
  if (mobileMenuButton) {
    mobileMenuButton.addEventListener('click', toggleMobileMenu);
  }
  mobileMenuClose.addEventListener('click', closeMobileMenu);

  // Close menu on escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) {
      closeMobileMenu();
    }
  });

  window.addEventListener('resize', function() {
    if (window.innerWidth >= 768 && !mobileMenu.classList.contains('hidden')) { // md breakpoint
      closeMobileMenu();
    }
  });
});

// Toggle submenu function (called from HTML)
function toggleMobileSubmenu(submenuId) {
  const submenu = document.getElementById(submenuId + '-submenu');
  const arrow = document.getElementById(submenuId + '-arrow');

  if (submenu && arrow) {
    const isHidden = submenu.classList.contains('hidden');

    if (isHidden) {
      submenu.classList.remove('hidden');
      arrow.classList.add('rotate-90');
    } else {
      submenu.classList.add('hidden');
      arrow.classList.remove('rotate-90');
    }
  }
}
</script>
